<!-- BEGIN: Update Form List -->
<div id="form-list" class="form-list">
	<h1>List...</h1>
	<div style="border:solid #f00 2px;padding:1em;"><?php echo do_list($action_data); ?></div>
</div>
<!-- END: Update Form List -->

<?php
// Functions 
function do_list($action_data)
{
	$html = '';
	if(isset($action_data['table_list']))
	{
		// Set table data
		$table_data = $action_data['table_list'];
		
		if( count($table_data) > 0)
		{	
			foreach($table_data as $table_row)
			{
				$html .= do_row($table_row);
			}
		}
		else
		{
			$html = 'No rows.';
		}
	}
	else
	{
		$html = 'No table data array: table_list';
	}
	return $html;
}

function get_form_definition()
{
	$input_def_json = file_get_contents('./input_obj_types.json');

	echo $input_def_json . "\n";

	$input_def = json_decode($input_def_json,true);
}

function do_row($row)
{
	$NL = "\n";
	$html = '<form id="form_' . $row['id'] . '" >' . $NL;
	$html .= '<input type="hidden" name="ax" value="update_item" >' . $NL;
	$html .= '<input type="hidden" name="idx" value="' . $row['id'] . '" >' . $NL;
	foreach($row as $field_name => $field_value)
	{
		$field_data['type']  = 'text';
		$field_data['name']  = $field_name;
		$field_data['value'] = $field_value;
		$html .= do_input($field_data);
	}
	$html .= '<input type="submit" value="Update" >' . $NL;
	$html .= '</form>' . $NL;
	$html .= '<div style="width:100px;display:inline;"><button id="delete_item" class="action_btn" data-idy="1011" data-idz="Test1" data-idx="' . $row['id'] . '">Delete</button></div>' . $NL;
	return $html;
}

function do_input($field_data)
{
	$NL = "\n";
	$html = '<input type="' . $field_data['type'] . '" name="' . $field_data['name'] . '" value="' . $field_data['value'] . '" >' . $NL;
	return $html;
}
?>